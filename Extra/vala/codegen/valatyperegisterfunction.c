/* valatyperegisterfunction.c generated by valac, the Vala compiler
 * generated from valatyperegisterfunction.vala, do not modify */

/* valatyperegisterfunction.vala
 *
 * Copyright (C) 2006-2010  Jürg Billeter
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.

 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.

 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
 *
 * Author:
 * 	Jürg Billeter <j@bitron.ch>
 */

#include <glib.h>
#include <glib-object.h>
#include <vala.h>
#include <stdlib.h>
#include <string.h>
#include <valaccode.h>
#include <valagee.h>
#include <gobject/gvaluecollector.h>


#define VALA_TYPE_TYPEREGISTER_FUNCTION (vala_typeregister_function_get_type ())
#define VALA_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunction))
#define VALA_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))
#define VALA_IS_TYPEREGISTER_FUNCTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_IS_TYPEREGISTER_FUNCTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), VALA_TYPE_TYPEREGISTER_FUNCTION))
#define VALA_TYPEREGISTER_FUNCTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionClass))

typedef struct _ValaTypeRegisterFunction ValaTypeRegisterFunction;
typedef struct _ValaTypeRegisterFunctionClass ValaTypeRegisterFunctionClass;
typedef struct _ValaTypeRegisterFunctionPrivate ValaTypeRegisterFunctionPrivate;
#define _vala_ccode_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_ccode_node_unref (var), NULL)))
#define _vala_code_context_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_context_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _vala_code_node_unref0(var) ((var == NULL) ? NULL : (var = (vala_code_node_unref (var), NULL)))
#define _vala_iterable_unref0(var) ((var == NULL) ? NULL : (var = (vala_iterable_unref (var), NULL)))
typedef struct _ValaParamSpecTypeRegisterFunction ValaParamSpecTypeRegisterFunction;

struct _ValaTypeRegisterFunction {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ValaTypeRegisterFunctionPrivate * priv;
};

struct _ValaTypeRegisterFunctionClass {
	GTypeClass parent_class;
	void (*finalize) (ValaTypeRegisterFunction *self);
	ValaTypeSymbol* (*get_type_declaration) (ValaTypeRegisterFunction* self);
	gchar* (*get_type_struct_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_base_init_func_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_class_finalize_func_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_base_finalize_func_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_class_init_func_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_instance_struct_size) (ValaTypeRegisterFunction* self);
	gchar* (*get_instance_init_func_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_parent_type_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_gtype_value_table_init_function_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_gtype_value_table_peek_pointer_function_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_gtype_value_table_free_function_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_gtype_value_table_copy_function_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_gtype_value_table_lcopy_value_function_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_gtype_value_table_collect_value_function_name) (ValaTypeRegisterFunction* self);
	gchar* (*get_type_flags) (ValaTypeRegisterFunction* self);
	ValaCCodeFragment* (*get_type_interface_init_declaration) (ValaTypeRegisterFunction* self);
	void (*get_type_interface_init_statements) (ValaTypeRegisterFunction* self, ValaCCodeBlock* block, gboolean plugin);
	ValaSymbolAccessibility (*get_accessibility) (ValaTypeRegisterFunction* self);
};

struct _ValaTypeRegisterFunctionPrivate {
	ValaCCodeFragment* source_declaration_fragment;
	ValaCCodeFragment* declaration_fragment;
	ValaCCodeFragment* definition_fragment;
	ValaCodeContext* _context;
};

struct _ValaParamSpecTypeRegisterFunction {
	GParamSpec parent_instance;
};


static gpointer vala_typeregister_function_parent_class = NULL;

gpointer vala_typeregister_function_ref (gpointer instance);
void vala_typeregister_function_unref (gpointer instance);
GParamSpec* vala_param_spec_typeregister_function (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void vala_value_set_typeregister_function (GValue* value, gpointer v_object);
void vala_value_take_typeregister_function (GValue* value, gpointer v_object);
gpointer vala_value_get_typeregister_function (const GValue* value);
GType vala_typeregister_function_get_type (void) G_GNUC_CONST;
#define VALA_TYPEREGISTER_FUNCTION_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunctionPrivate))
enum  {
	VALA_TYPEREGISTER_FUNCTION_DUMMY_PROPERTY
};
void vala_typeregister_function_init_from_type (ValaTypeRegisterFunction* self, gboolean plugin, gboolean declaration_only);
ValaTypeSymbol* vala_typeregister_function_get_type_declaration (ValaTypeRegisterFunction* self);
gchar* vala_ccode_base_module_get_ccode_lower_case_name (ValaCodeNode* node, const gchar* infix);
ValaSymbolAccessibility vala_typeregister_function_get_accessibility (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_gtype_value_table_init_function_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_gtype_value_table_free_function_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_gtype_value_table_copy_function_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_gtype_value_table_peek_pointer_function_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_gtype_value_table_collect_value_function_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_gtype_value_table_lcopy_value_function_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_base_finalize_func_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_type_struct_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_base_init_func_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_class_init_func_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_class_finalize_func_name (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_instance_struct_size (ValaTypeRegisterFunction* self);
gchar* vala_typeregister_function_get_instance_init_func_name (ValaTypeRegisterFunction* self);
ValaCCodeFragment* vala_typeregister_function_get_type_interface_init_declaration (ValaTypeRegisterFunction* self);
ValaCodeContext* vala_typeregister_function_get_context (ValaTypeRegisterFunction* self);
gchar* vala_ccode_base_module_get_ccode_name (ValaCodeNode* node);
gchar* vala_typeregister_function_get_parent_type_name (ValaTypeRegisterFunction* self);
gchar* vala_ccode_base_module_get_ccode_dup_function (ValaTypeSymbol* sym);
gchar* vala_ccode_base_module_get_ccode_free_function (ValaTypeSymbol* sym);
ValaCCodeConstant* vala_ccode_base_module_get_enum_value_canonical_cconstant (ValaEnumValue* ev);
gchar* vala_typeregister_function_get_type_flags (ValaTypeRegisterFunction* self);
void vala_typeregister_function_get_type_interface_init_statements (ValaTypeRegisterFunction* self, ValaCCodeBlock* block, gboolean plugin);
static ValaTypeSymbol* vala_typeregister_function_real_get_type_declaration (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_type_struct_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_base_init_func_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_class_finalize_func_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_base_finalize_func_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_class_init_func_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_instance_struct_size (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_instance_init_func_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_parent_type_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_gtype_value_table_init_function_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_gtype_value_table_peek_pointer_function_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_gtype_value_table_free_function_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_gtype_value_table_copy_function_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_gtype_value_table_lcopy_value_function_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_gtype_value_table_collect_value_function_name (ValaTypeRegisterFunction* self);
static gchar* vala_typeregister_function_real_get_type_flags (ValaTypeRegisterFunction* self);
static ValaCCodeFragment* vala_typeregister_function_real_get_type_interface_init_declaration (ValaTypeRegisterFunction* self);
static void vala_typeregister_function_real_get_type_interface_init_statements (ValaTypeRegisterFunction* self, ValaCCodeBlock* block, gboolean plugin);
ValaCCodeFragment* vala_typeregister_function_get_source_declaration (ValaTypeRegisterFunction* self);
ValaCCodeFragment* vala_typeregister_function_get_declaration (ValaTypeRegisterFunction* self);
ValaCCodeFragment* vala_typeregister_function_get_definition (ValaTypeRegisterFunction* self);
static ValaSymbolAccessibility vala_typeregister_function_real_get_accessibility (ValaTypeRegisterFunction* self);
ValaTypeRegisterFunction* vala_typeregister_function_construct (GType object_type);
void vala_typeregister_function_set_context (ValaTypeRegisterFunction* self, ValaCodeContext* value);
static void vala_typeregister_function_finalize (ValaTypeRegisterFunction* obj);


/**
 * Constructs the C function from the specified type.
 */
static gpointer _vala_ccode_node_ref0 (gpointer self) {
	return self ? vala_ccode_node_ref (self) : NULL;
}


void vala_typeregister_function_init_from_type (ValaTypeRegisterFunction* self, gboolean plugin, gboolean declaration_only) {
	gboolean _tmp0_;
	gboolean use_thread_safe;
	gboolean fundamental;
	ValaTypeSymbol* _tmp1_ = NULL;
	ValaClass* cl;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	ValaClass* _tmp4_;
	gboolean _tmp8_;
	gboolean _tmp12_;
	ValaTypeSymbol* _tmp13_ = NULL;
	ValaTypeSymbol* _tmp14_;
	gchar* _tmp15_ = NULL;
	gchar* _tmp16_;
	gchar* _tmp17_ = NULL;
	gchar* _tmp18_;
	gchar* type_id_name;
	ValaCCodeBlock* _tmp19_;
	ValaCCodeBlock* type_block;
	ValaCCodeDeclaration* _cdecl_ = NULL;
	gboolean _tmp20_;
	ValaCCodeDeclaration* _tmp37_;
	gboolean _tmp38_;
	gboolean _tmp43_;
	ValaCCodeFunction* fun = NULL;
	gboolean _tmp48_;
	gchar* type_value_table_decl_name;
	ValaCCodeBlock* _tmp103_;
	ValaCCodeBlock* type_init;
	gboolean _tmp104_;
	ValaTypeSymbol* _tmp130_ = NULL;
	ValaTypeSymbol* _tmp131_;
	gboolean _tmp132_;
	ValaCCodeBlock* _tmp172_;
	ValaCCodeFragment* _tmp173_ = NULL;
	ValaCCodeFragment* _tmp174_;
	gboolean _tmp175_ = FALSE;
	gboolean _tmp176_ = FALSE;
	ValaClass* _tmp177_;
	gboolean _tmp181_;
	gboolean _tmp184_;
	ValaCCodeFunctionCall* reg_call = NULL;
	ValaTypeSymbol* _tmp215_ = NULL;
	ValaTypeSymbol* _tmp216_;
	gboolean _tmp217_;
	ValaCCodeFunctionCall* _tmp263_;
	ValaTypeSymbol* _tmp264_ = NULL;
	ValaTypeSymbol* _tmp265_;
	gchar* _tmp266_ = NULL;
	gchar* _tmp267_;
	gchar* _tmp268_ = NULL;
	gchar* _tmp269_;
	ValaCCodeConstant* _tmp270_;
	ValaCCodeConstant* _tmp271_;
	ValaTypeSymbol* _tmp272_ = NULL;
	ValaTypeSymbol* _tmp273_;
	gboolean _tmp274_;
	gboolean _tmp368_ = FALSE;
	gboolean _tmp369_;
	gboolean _tmp371_;
	gboolean _tmp389_ = FALSE;
	gboolean _tmp390_ = FALSE;
	ValaClass* _tmp391_;
	gboolean _tmp395_;
	gboolean _tmp398_;
	gboolean _tmp419_;
	gboolean _tmp422_;
	gboolean _tmp479_;
	ValaCCodeFunction* _tmp494_;
	ValaCCodeFragment* _tmp495_;
	ValaCCodeFunction* _tmp496_;
	ValaCCodeFunction* _tmp497_ = NULL;
	ValaCCodeFunction* _tmp498_;
	ValaCCodeFunction* _tmp499_;
	ValaCCodeFunction* _tmp500_;
	ValaCCodeBlock* _tmp501_;
	ValaCCodeFragment* _tmp502_;
	ValaCCodeFunction* _tmp503_;
	g_return_if_fail (self != NULL);
	_tmp0_ = plugin;
	use_thread_safe = !_tmp0_;
	fundamental = FALSE;
	_tmp1_ = vala_typeregister_function_get_type_declaration (self);
	cl = G_TYPE_CHECK_INSTANCE_TYPE (_tmp1_, VALA_TYPE_CLASS) ? ((ValaClass*) _tmp1_) : NULL;
	_tmp4_ = cl;
	if (_tmp4_ != NULL) {
		ValaClass* _tmp5_;
		gboolean _tmp6_;
		gboolean _tmp7_;
		_tmp5_ = cl;
		_tmp6_ = vala_class_get_is_compact (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp3_ = !_tmp7_;
	} else {
		_tmp3_ = FALSE;
	}
	_tmp8_ = _tmp3_;
	if (_tmp8_) {
		ValaClass* _tmp9_;
		ValaClass* _tmp10_;
		ValaClass* _tmp11_;
		_tmp9_ = cl;
		_tmp10_ = vala_class_get_base_class (_tmp9_);
		_tmp11_ = _tmp10_;
		_tmp2_ = _tmp11_ == NULL;
	} else {
		_tmp2_ = FALSE;
	}
	_tmp12_ = _tmp2_;
	if (_tmp12_) {
		fundamental = TRUE;
	}
	_tmp13_ = vala_typeregister_function_get_type_declaration (self);
	_tmp14_ = _tmp13_;
	_tmp15_ = vala_ccode_base_module_get_ccode_lower_case_name ((ValaCodeNode*) _tmp14_, NULL);
	_tmp16_ = _tmp15_;
	_tmp17_ = g_strdup_printf ("%s_type_id", _tmp16_);
	_tmp18_ = _tmp17_;
	_g_free0 (_tmp16_);
	_vala_code_node_unref0 (_tmp14_);
	type_id_name = _tmp18_;
	_tmp19_ = vala_ccode_block_new ();
	type_block = _tmp19_;
	_tmp20_ = use_thread_safe;
	if (_tmp20_) {
		ValaCCodeDeclaration* _tmp21_;
		ValaCCodeDeclaration* _tmp22_;
		const gchar* _tmp23_;
		gchar* _tmp24_;
		gchar* _tmp25_;
		ValaCCodeConstant* _tmp26_;
		ValaCCodeConstant* _tmp27_;
		ValaCCodeVariableDeclarator* _tmp28_;
		ValaCCodeVariableDeclarator* _tmp29_;
		_tmp21_ = vala_ccode_declaration_new ("gsize");
		_vala_ccode_node_unref0 (_cdecl_);
		_cdecl_ = _tmp21_;
		_tmp22_ = _cdecl_;
		_tmp23_ = type_id_name;
		_tmp24_ = g_strconcat (_tmp23_, "__volatile", NULL);
		_tmp25_ = _tmp24_;
		_tmp26_ = vala_ccode_constant_new ("0");
		_tmp27_ = _tmp26_;
		_tmp28_ = vala_ccode_variable_declarator_new (_tmp25_, (ValaCCodeExpression*) _tmp27_, NULL);
		_tmp29_ = _tmp28_;
		vala_ccode_declaration_add_declarator (_tmp22_, (ValaCCodeDeclarator*) _tmp29_);
		_vala_ccode_node_unref0 (_tmp29_);
		_vala_ccode_node_unref0 (_tmp27_);
		_g_free0 (_tmp25_);
	} else {
		ValaCCodeDeclaration* _tmp30_;
		ValaCCodeDeclaration* _tmp31_;
		const gchar* _tmp32_;
		ValaCCodeConstant* _tmp33_;
		ValaCCodeConstant* _tmp34_;
		ValaCCodeVariableDeclarator* _tmp35_;
		ValaCCodeVariableDeclarator* _tmp36_;
		_tmp30_ = vala_ccode_declaration_new ("GType");
		_vala_ccode_node_unref0 (_cdecl_);
		_cdecl_ = _tmp30_;
		_tmp31_ = _cdecl_;
		_tmp32_ = type_id_name;
		_tmp33_ = vala_ccode_constant_new ("0");
		_tmp34_ = _tmp33_;
		_tmp35_ = vala_ccode_variable_declarator_new (_tmp32_, (ValaCCodeExpression*) _tmp34_, NULL);
		_tmp36_ = _tmp35_;
		vala_ccode_declaration_add_declarator (_tmp31_, (ValaCCodeDeclarator*) _tmp36_);
		_vala_ccode_node_unref0 (_tmp36_);
		_vala_ccode_node_unref0 (_tmp34_);
	}
	_tmp37_ = _cdecl_;
	vala_ccode_declaration_set_modifiers (_tmp37_, VALA_CCODE_MODIFIERS_STATIC);
	_tmp38_ = use_thread_safe;
	if (_tmp38_) {
		ValaCCodeDeclaration* _tmp39_;
		ValaCCodeDeclaration* _tmp40_;
		ValaCCodeModifiers _tmp41_;
		ValaCCodeModifiers _tmp42_;
		_tmp39_ = _cdecl_;
		_tmp40_ = _cdecl_;
		_tmp41_ = vala_ccode_declaration_get_modifiers (_tmp40_);
		_tmp42_ = _tmp41_;
		vala_ccode_declaration_set_modifiers (_tmp40_, _tmp42_ | VALA_CCODE_MODIFIERS_VOLATILE);
	}
	_tmp43_ = plugin;
	if (!_tmp43_) {
		ValaCCodeBlock* _tmp44_;
		ValaCCodeDeclaration* _tmp45_;
		_tmp44_ = type_block;
		_tmp45_ = _cdecl_;
		vala_ccode_block_add_statement (_tmp44_, (ValaCCodeNode*) _tmp45_);
	} else {
		ValaCCodeFragment* _tmp46_;
		ValaCCodeDeclaration* _tmp47_;
		_tmp46_ = self->priv->source_declaration_fragment;
		_tmp47_ = _cdecl_;
		vala_ccode_fragment_append (_tmp46_, (ValaCCodeNode*) _tmp47_);
	}
	_tmp48_ = plugin;
	if (!_tmp48_) {
		ValaTypeSymbol* _tmp49_ = NULL;
		ValaTypeSymbol* _tmp50_;
		gchar* _tmp51_ = NULL;
		gchar* _tmp52_;
		gchar* _tmp53_ = NULL;
		gchar* _tmp54_;
		ValaCCodeFunction* _tmp55_;
		ValaCCodeFunction* _tmp56_;
		ValaSymbolAccessibility _tmp57_ = 0;
		_tmp49_ = vala_typeregister_function_get_type_declaration (self);
		_tmp50_ = _tmp49_;
		_tmp51_ = vala_ccode_base_module_get_ccode_lower_case_name ((ValaCodeNode*) _tmp50_, NULL);
		_tmp52_ = _tmp51_;
		_tmp53_ = g_strdup_printf ("%s_get_type", _tmp52_);
		_tmp54_ = _tmp53_;
		_tmp55_ = vala_ccode_function_new (_tmp54_, "GType");
		_vala_ccode_node_unref0 (fun);
		fun = _tmp55_;
		_g_free0 (_tmp54_);
		_g_free0 (_tmp52_);
		_vala_code_node_unref0 (_tmp50_);
		_tmp56_ = fun;
		vala_ccode_function_set_attributes (_tmp56_, "G_GNUC_CONST");
		_tmp57_ = vala_typeregister_function_get_accessibility (self);
		if (_tmp57_ == VALA_SYMBOL_ACCESSIBILITY_PRIVATE) {
			ValaCCodeFunction* _tmp58_;
			ValaCCodeFunction* _tmp59_;
			ValaCCodeFunction* _tmp60_;
			const gchar* _tmp61_;
			const gchar* _tmp62_;
			gchar* _tmp63_;
			gchar* _tmp64_;
			_tmp58_ = fun;
			vala_ccode_function_set_modifiers (_tmp58_, VALA_CCODE_MODIFIERS_STATIC);
			_tmp59_ = fun;
			_tmp60_ = fun;
			_tmp61_ = vala_ccode_function_get_attributes (_tmp60_);
			_tmp62_ = _tmp61_;
			_tmp63_ = g_strconcat (_tmp62_, " G_GNUC_UNUSED", NULL);
			_tmp64_ = _tmp63_;
			vala_ccode_function_set_attributes (_tmp60_, _tmp64_);
			_g_free0 (_tmp64_);
		}
	} else {
		ValaTypeSymbol* _tmp65_ = NULL;
		ValaTypeSymbol* _tmp66_;
		gchar* _tmp67_ = NULL;
		gchar* _tmp68_;
		gchar* _tmp69_ = NULL;
		gchar* _tmp70_;
		ValaCCodeFunction* _tmp71_;
		ValaCCodeFunction* _tmp72_;
		ValaCCodeParameter* _tmp73_;
		ValaCCodeParameter* _tmp74_;
		ValaTypeSymbol* _tmp75_ = NULL;
		ValaTypeSymbol* _tmp76_;
		gchar* _tmp77_ = NULL;
		gchar* _tmp78_;
		gchar* _tmp79_ = NULL;
		gchar* _tmp80_;
		ValaCCodeFunction* _tmp81_;
		ValaCCodeFunction* _tmp82_;
		ValaCCodeFunction* get_fun;
		ValaCCodeFunction* _tmp83_;
		ValaCCodeFunction* _tmp84_;
		ValaCCodeFragment* _tmp85_;
		ValaCCodeFunction* _tmp86_;
		ValaCCodeFunction* _tmp87_ = NULL;
		ValaCCodeFunction* _tmp88_;
		ValaCCodeFunction* _tmp89_;
		ValaCCodeFunction* _tmp90_;
		ValaCCodeBlock* _tmp91_;
		ValaCCodeBlock* _tmp92_;
		ValaCCodeFunction* _tmp93_;
		ValaCCodeBlock* _tmp94_;
		ValaCCodeBlock* _tmp95_;
		const gchar* _tmp96_;
		ValaCCodeIdentifier* _tmp97_;
		ValaCCodeIdentifier* _tmp98_;
		ValaCCodeReturnStatement* _tmp99_;
		ValaCCodeReturnStatement* _tmp100_;
		ValaCCodeFragment* _tmp101_;
		ValaCCodeFunction* _tmp102_;
		_tmp65_ = vala_typeregister_function_get_type_declaration (self);
		_tmp66_ = _tmp65_;
		_tmp67_ = vala_ccode_base_module_get_ccode_lower_case_name ((ValaCodeNode*) _tmp66_, NULL);
		_tmp68_ = _tmp67_;
		_tmp69_ = g_strdup_printf ("%s_register_type", _tmp68_);
		_tmp70_ = _tmp69_;
		_tmp71_ = vala_ccode_function_new (_tmp70_, "GType");
		_vala_ccode_node_unref0 (fun);
		fun = _tmp71_;
		_g_free0 (_tmp70_);
		_g_free0 (_tmp68_);
		_vala_code_node_unref0 (_tmp66_);
		_tmp72_ = fun;
		_tmp73_ = vala_ccode_parameter_new ("module", "GTypeModule *");
		_tmp74_ = _tmp73_;
		vala_ccode_function_add_parameter (_tmp72_, _tmp74_);
		_vala_ccode_node_unref0 (_tmp74_);
		_tmp75_ = vala_typeregister_function_get_type_declaration (self);
		_tmp76_ = _tmp75_;
		_tmp77_ = vala_ccode_base_module_get_ccode_lower_case_name ((ValaCodeNode*) _tmp76_, NULL);
		_tmp78_ = _tmp77_;
		_tmp79_ = g_strdup_printf ("%s_get_type", _tmp78_);
		_tmp80_ = _tmp79_;
		_tmp81_ = vala_ccode_function_new (_tmp80_, "GType");
		_tmp82_ = _tmp81_;
		_g_free0 (_tmp80_);
		_g_free0 (_tmp78_);
		_vala_code_node_unref0 (_tmp76_);
		get_fun = _tmp82_;
		_tmp83_ = get_fun;
		vala_ccode_function_set_attributes (_tmp83_, "G_GNUC_CONST");
		_tmp84_ = get_fun;
		vala_ccode_function_set_is_declaration (_tmp84_, TRUE);
		_tmp85_ = self->priv->declaration_fragment;
		_tmp86_ = get_fun;
		_tmp87_ = vala_ccode_function_copy (_tmp86_);
		_tmp88_ = _tmp87_;
		vala_ccode_fragment_append (_tmp85_, (ValaCCodeNode*) _tmp88_);
		_vala_ccode_node_unref0 (_tmp88_);
		_tmp89_ = get_fun;
		vala_ccode_function_set_is_declaration (_tmp89_, FALSE);
		_tmp90_ = get_fun;
		_tmp91_ = vala_ccode_block_new ();
		_tmp92_ = _tmp91_;
		vala_ccode_function_set_block (_tmp90_, _tmp92_);
		_vala_ccode_node_unref0 (_tmp92_);
		_tmp93_ = get_fun;
		_tmp94_ = vala_ccode_function_get_block (_tmp93_);
		_tmp95_ = _tmp94_;
		_tmp96_ = type_id_name;
		_tmp97_ = vala_ccode_identifier_new (_tmp96_);
		_tmp98_ = _tmp97_;
		_tmp99_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) _tmp98_);
		_tmp100_ = _tmp99_;
		vala_ccode_block_add_statement (_tmp95_, (ValaCCodeNode*) _tmp100_);
		_vala_ccode_node_unref0 (_tmp100_);
		_vala_ccode_node_unref0 (_tmp98_);
		_tmp101_ = self->priv->definition_fragment;
		_tmp102_ = get_fun;
		vala_ccode_fragment_append (_tmp101_, (ValaCCodeNode*) _tmp102_);
		_vala_ccode_node_unref0 (get_fun);
	}
	type_value_table_decl_name = NULL;
	_tmp103_ = vala_ccode_block_new ();
	type_init = _tmp103_;
	_tmp104_ = fundamental;
	if (_tmp104_) {
		ValaCCodeDeclaration* _tmp105_;
		ValaCCodeDeclaration* cgtypetabledecl;
		ValaCCodeDeclaration* _tmp106_;
		ValaCCodeDeclaration* _tmp107_;
		gchar* _tmp108_ = NULL;
		gchar* _tmp109_;
		gchar* _tmp110_ = NULL;
		gchar* _tmp111_;
		gchar* _tmp112_ = NULL;
		gchar* _tmp113_;
		gchar* _tmp114_ = NULL;
		gchar* _tmp115_;
		gchar* _tmp116_ = NULL;
		gchar* _tmp117_;
		gchar* _tmp118_ = NULL;
		gchar* _tmp119_;
		gchar* _tmp120_ = NULL;
		gchar* _tmp121_;
		ValaCCodeConstant* _tmp122_;
		ValaCCodeConstant* _tmp123_;
		ValaCCodeVariableDeclarator* _tmp124_;
		ValaCCodeVariableDeclarator* _tmp125_;
		gchar* _tmp126_;
		ValaCCodeBlock* _tmp127_;
		ValaCCodeDeclaration* _tmp128_;
		_tmp105_ = vala_ccode_declaration_new ("const GTypeValueTable");
		cgtypetabledecl = _tmp105_;
		_tmp106_ = cgtypetabledecl;
		vala_ccode_declaration_set_modifiers (_tmp106_, VALA_CCODE_MODIFIERS_STATIC);
		_tmp107_ = cgtypetabledecl;
		_tmp108_ = vala_typeregister_function_get_gtype_value_table_init_function_name (self);
		_tmp109_ = _tmp108_;
		_tmp110_ = vala_typeregister_function_get_gtype_value_table_free_function_name (self);
		_tmp111_ = _tmp110_;
		_tmp112_ = vala_typeregister_function_get_gtype_value_table_copy_function_name (self);
		_tmp113_ = _tmp112_;
		_tmp114_ = vala_typeregister_function_get_gtype_value_table_peek_pointer_function_name (self);
		_tmp115_ = _tmp114_;
		_tmp116_ = vala_typeregister_function_get_gtype_value_table_collect_value_function_name (self);
		_tmp117_ = _tmp116_;
		_tmp118_ = vala_typeregister_function_get_gtype_value_table_lcopy_value_function_name (self);
		_tmp119_ = _tmp118_;
		_tmp120_ = g_strdup_printf ("{ %s, %s, %s, %s, \"p\", %s, \"p\", %s }", _tmp109_, _tmp111_, _tmp113_, _tmp115_, _tmp117_, _tmp119_);
		_tmp121_ = _tmp120_;
		_tmp122_ = vala_ccode_constant_new (_tmp121_);
		_tmp123_ = _tmp122_;
		_tmp124_ = vala_ccode_variable_declarator_new ("g_define_type_value_table", (ValaCCodeExpression*) _tmp123_, NULL);
		_tmp125_ = _tmp124_;
		vala_ccode_declaration_add_declarator (_tmp107_, (ValaCCodeDeclarator*) _tmp125_);
		_vala_ccode_node_unref0 (_tmp125_);
		_vala_ccode_node_unref0 (_tmp123_);
		_g_free0 (_tmp121_);
		_g_free0 (_tmp119_);
		_g_free0 (_tmp117_);
		_g_free0 (_tmp115_);
		_g_free0 (_tmp113_);
		_g_free0 (_tmp111_);
		_g_free0 (_tmp109_);
		_tmp126_ = g_strdup ("&g_define_type_value_table");
		_g_free0 (type_value_table_decl_name);
		type_value_table_decl_name = _tmp126_;
		_tmp127_ = type_init;
		_tmp128_ = cgtypetabledecl;
		vala_ccode_block_add_statement (_tmp127_, (ValaCCodeNode*) _tmp128_);
		_vala_ccode_node_unref0 (cgtypetabledecl);
	} else {
		gchar* _tmp129_;
		_tmp129_ = g_strdup ("NULL");
		_g_free0 (type_value_table_decl_name);
		type_value_table_decl_name = _tmp129_;
	}
	_tmp130_ = vala_typeregister_function_get_type_declaration (self);
	_tmp131_ = _tmp130_;
	_tmp132_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp131_, VALA_TYPE_OBJECT_TYPE_SYMBOL);
	_vala_code_node_unref0 (_tmp131_);
	if (_tmp132_) {
		ValaCCodeDeclaration* _tmp133_;
		ValaCCodeDeclaration* ctypedecl;
		ValaCCodeDeclaration* _tmp134_;
		gchar* _tmp135_ = NULL;
		gboolean _tmp136_;
		ValaCCodeDeclaration* _tmp139_;
		gchar* _tmp140_ = NULL;
		gchar* _tmp141_;
		gchar* _tmp142_ = NULL;
		gchar* _tmp143_;
		const gchar* _tmp144_;
		gchar* _tmp145_ = NULL;
		gchar* _tmp146_;
		gchar* _tmp147_ = NULL;
		gchar* _tmp148_;
		gchar* _tmp149_ = NULL;
		gchar* _tmp150_;
		gchar* _tmp151_ = NULL;
		gchar* _tmp152_;
		const gchar* _tmp153_;
		gchar* _tmp154_ = NULL;
		gchar* _tmp155_;
		ValaCCodeConstant* _tmp156_;
		ValaCCodeConstant* _tmp157_;
		ValaCCodeVariableDeclarator* _tmp158_;
		ValaCCodeVariableDeclarator* _tmp159_;
		ValaCCodeBlock* _tmp160_;
		ValaCCodeDeclaration* _tmp161_;
		gboolean _tmp162_;
		_tmp133_ = vala_ccode_declaration_new ("const GTypeInfo");
		ctypedecl = _tmp133_;
		_tmp134_ = ctypedecl;
		vala_ccode_declaration_set_modifiers (_tmp134_, VALA_CCODE_MODIFIERS_STATIC);
		_tmp136_ = plugin;
		if (_tmp136_) {
			gchar* _tmp137_ = NULL;
			_tmp137_ = vala_typeregister_function_get_base_finalize_func_name (self);
			_g_free0 (_tmp135_);
			_tmp135_ = _tmp137_;
		} else {
			gchar* _tmp138_;
			_tmp138_ = g_strdup ("NULL");
			_g_free0 (_tmp135_);
			_tmp135_ = _tmp138_;
		}
		_tmp139_ = ctypedecl;
		_tmp140_ = vala_typeregister_function_get_type_struct_name (self);
		_tmp141_ = _tmp140_;
		_tmp142_ = vala_typeregister_function_get_base_init_func_name (self);
		_tmp143_ = _tmp142_;
		_tmp144_ = _tmp135_;
		_tmp145_ = vala_typeregister_function_get_class_init_func_name (self);
		_tmp146_ = _tmp145_;
		_tmp147_ = vala_typeregister_function_get_class_finalize_func_name (self);
		_tmp148_ = _tmp147_;
		_tmp149_ = vala_typeregister_function_get_instance_struct_size (self);
		_tmp150_ = _tmp149_;
		_tmp151_ = vala_typeregister_function_get_instance_init_func_name (self);
		_tmp152_ = _tmp151_;
		_tmp153_ = type_value_table_decl_name;
		_tmp154_ = g_strdup_printf ("{ sizeof (%s), (GBaseInitFunc) %s, (GBaseFinalizeFunc) %s, (GClassInit" \
"Func) %s, (GClassFinalizeFunc) %s, NULL, %s, 0, (GInstanceInitFunc) %s" \
", %s }", _tmp141_, _tmp143_, _tmp144_, _tmp146_, _tmp148_, _tmp150_, _tmp152_, _tmp153_);
		_tmp155_ = _tmp154_;
		_tmp156_ = vala_ccode_constant_new (_tmp155_);
		_tmp157_ = _tmp156_;
		_tmp158_ = vala_ccode_variable_declarator_new ("g_define_type_info", (ValaCCodeExpression*) _tmp157_, NULL);
		_tmp159_ = _tmp158_;
		vala_ccode_declaration_add_declarator (_tmp139_, (ValaCCodeDeclarator*) _tmp159_);
		_vala_ccode_node_unref0 (_tmp159_);
		_vala_ccode_node_unref0 (_tmp157_);
		_g_free0 (_tmp155_);
		_g_free0 (_tmp152_);
		_g_free0 (_tmp150_);
		_g_free0 (_tmp148_);
		_g_free0 (_tmp146_);
		_g_free0 (_tmp143_);
		_g_free0 (_tmp141_);
		_tmp160_ = type_init;
		_tmp161_ = ctypedecl;
		vala_ccode_block_add_statement (_tmp160_, (ValaCCodeNode*) _tmp161_);
		_tmp162_ = fundamental;
		if (_tmp162_) {
			ValaCCodeDeclaration* _tmp163_;
			ValaCCodeDeclaration* ctypefundamentaldecl;
			ValaCCodeDeclaration* _tmp164_;
			ValaCCodeDeclaration* _tmp165_;
			ValaCCodeConstant* _tmp166_;
			ValaCCodeConstant* _tmp167_;
			ValaCCodeVariableDeclarator* _tmp168_;
			ValaCCodeVariableDeclarator* _tmp169_;
			ValaCCodeBlock* _tmp170_;
			ValaCCodeDeclaration* _tmp171_;
			_tmp163_ = vala_ccode_declaration_new ("const GTypeFundamentalInfo");
			ctypefundamentaldecl = _tmp163_;
			_tmp164_ = ctypefundamentaldecl;
			vala_ccode_declaration_set_modifiers (_tmp164_, VALA_CCODE_MODIFIERS_STATIC);
			_tmp165_ = ctypefundamentaldecl;
			_tmp166_ = vala_ccode_constant_new ("{ (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERI" \
"VABLE | G_TYPE_FLAG_DEEP_DERIVABLE) }");
			_tmp167_ = _tmp166_;
			_tmp168_ = vala_ccode_variable_declarator_new ("g_define_type_fundamental_info", (ValaCCodeExpression*) _tmp167_, NULL);
			_tmp169_ = _tmp168_;
			vala_ccode_declaration_add_declarator (_tmp165_, (ValaCCodeDeclarator*) _tmp169_);
			_vala_ccode_node_unref0 (_tmp169_);
			_vala_ccode_node_unref0 (_tmp167_);
			_tmp170_ = type_init;
			_tmp171_ = ctypefundamentaldecl;
			vala_ccode_block_add_statement (_tmp170_, (ValaCCodeNode*) _tmp171_);
			_vala_ccode_node_unref0 (ctypefundamentaldecl);
		}
		_g_free0 (_tmp135_);
		_vala_ccode_node_unref0 (ctypedecl);
	}
	_tmp172_ = type_init;
	_tmp173_ = vala_typeregister_function_get_type_interface_init_declaration (self);
	_tmp174_ = _tmp173_;
	vala_ccode_block_add_statement (_tmp172_, (ValaCCodeNode*) _tmp174_);
	_vala_ccode_node_unref0 (_tmp174_);
	_tmp177_ = cl;
	if (_tmp177_ != NULL) {
		ValaClass* _tmp178_;
		gboolean _tmp179_;
		gboolean _tmp180_;
		_tmp178_ = cl;
		_tmp179_ = vala_class_get_has_class_private_fields (_tmp178_);
		_tmp180_ = _tmp179_;
		_tmp176_ = _tmp180_;
	} else {
		_tmp176_ = FALSE;
	}
	_tmp181_ = _tmp176_;
	if (_tmp181_) {
		ValaCodeContext* _tmp182_;
		gboolean _tmp183_ = FALSE;
		_tmp182_ = self->priv->_context;
		_tmp183_ = vala_code_context_require_glib_version (_tmp182_, 2, 24);
		_tmp175_ = !_tmp183_;
	} else {
		_tmp175_ = FALSE;
	}
	_tmp184_ = _tmp175_;
	if (_tmp184_) {
		ValaCCodeFunctionCall* quark_reg_call = NULL;
		gboolean _tmp185_;
		ValaCCodeFunctionCall* _tmp192_;
		ValaTypeSymbol* _tmp193_ = NULL;
		ValaTypeSymbol* _tmp194_;
		gchar* _tmp195_ = NULL;
		gchar* _tmp196_;
		gchar* _tmp197_ = NULL;
		gchar* _tmp198_;
		ValaCCodeConstant* _tmp199_;
		ValaCCodeConstant* _tmp200_;
		ValaCCodeBlock* _tmp201_;
		ValaTypeSymbol* _tmp202_ = NULL;
		ValaTypeSymbol* _tmp203_;
		gchar* _tmp204_ = NULL;
		gchar* _tmp205_;
		gchar* _tmp206_ = NULL;
		gchar* _tmp207_;
		ValaCCodeIdentifier* _tmp208_;
		ValaCCodeIdentifier* _tmp209_;
		ValaCCodeFunctionCall* _tmp210_;
		ValaCCodeAssignment* _tmp211_;
		ValaCCodeAssignment* _tmp212_;
		ValaCCodeExpressionStatement* _tmp213_;
		ValaCCodeExpressionStatement* _tmp214_;
		_tmp185_ = plugin;
		if (_tmp185_) {
			ValaCCodeIdentifier* _tmp186_;
			ValaCCodeIdentifier* _tmp187_;
			ValaCCodeFunctionCall* _tmp188_;
			_tmp186_ = vala_ccode_identifier_new ("g_quark_from_string");
			_tmp187_ = _tmp186_;
			_tmp188_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp187_);
			_vala_ccode_node_unref0 (quark_reg_call);
			quark_reg_call = _tmp188_;
			_vala_ccode_node_unref0 (_tmp187_);
		} else {
			ValaCCodeIdentifier* _tmp189_;
			ValaCCodeIdentifier* _tmp190_;
			ValaCCodeFunctionCall* _tmp191_;
			_tmp189_ = vala_ccode_identifier_new ("g_quark_from_static_string");
			_tmp190_ = _tmp189_;
			_tmp191_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp190_);
			_vala_ccode_node_unref0 (quark_reg_call);
			quark_reg_call = _tmp191_;
			_vala_ccode_node_unref0 (_tmp190_);
		}
		_tmp192_ = quark_reg_call;
		_tmp193_ = vala_typeregister_function_get_type_declaration (self);
		_tmp194_ = _tmp193_;
		_tmp195_ = vala_ccode_base_module_get_ccode_name ((ValaCodeNode*) _tmp194_);
		_tmp196_ = _tmp195_;
		_tmp197_ = g_strdup_printf ("\"Vala%sClassPrivate\"", _tmp196_);
		_tmp198_ = _tmp197_;
		_tmp199_ = vala_ccode_constant_new (_tmp198_);
		_tmp200_ = _tmp199_;
		vala_ccode_function_call_add_argument (_tmp192_, (ValaCCodeExpression*) _tmp200_);
		_vala_ccode_node_unref0 (_tmp200_);
		_g_free0 (_tmp198_);
		_g_free0 (_tmp196_);
		_vala_code_node_unref0 (_tmp194_);
		_tmp201_ = type_init;
		_tmp202_ = vala_typeregister_function_get_type_declaration (self);
		_tmp203_ = _tmp202_;
		_tmp204_ = vala_ccode_base_module_get_ccode_lower_case_name ((ValaCodeNode*) _tmp203_, NULL);
		_tmp205_ = _tmp204_;
		_tmp206_ = g_strdup_printf ("_vala_%s_class_private_quark", _tmp205_);
		_tmp207_ = _tmp206_;
		_tmp208_ = vala_ccode_identifier_new (_tmp207_);
		_tmp209_ = _tmp208_;
		_tmp210_ = quark_reg_call;
		_tmp211_ = vala_ccode_assignment_new ((ValaCCodeExpression*) _tmp209_, (ValaCCodeExpression*) _tmp210_, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
		_tmp212_ = _tmp211_;
		_tmp213_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) _tmp212_);
		_tmp214_ = _tmp213_;
		vala_ccode_block_add_statement (_tmp201_, (ValaCCodeNode*) _tmp214_);
		_vala_ccode_node_unref0 (_tmp214_);
		_vala_ccode_node_unref0 (_tmp212_);
		_vala_ccode_node_unref0 (_tmp209_);
		_g_free0 (_tmp207_);
		_g_free0 (_tmp205_);
		_vala_code_node_unref0 (_tmp203_);
		_vala_ccode_node_unref0 (quark_reg_call);
	}
	_tmp215_ = vala_typeregister_function_get_type_declaration (self);
	_tmp216_ = _tmp215_;
	_tmp217_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp216_, VALA_TYPE_STRUCT);
	_vala_code_node_unref0 (_tmp216_);
	if (_tmp217_) {
		ValaCCodeIdentifier* _tmp218_;
		ValaCCodeIdentifier* _tmp219_;
		ValaCCodeFunctionCall* _tmp220_;
		_tmp218_ = vala_ccode_identifier_new ("g_boxed_type_register_static");
		_tmp219_ = _tmp218_;
		_tmp220_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp219_);
		_vala_ccode_node_unref0 (reg_call);
		reg_call = _tmp220_;
		_vala_ccode_node_unref0 (_tmp219_);
	} else {
		ValaTypeSymbol* _tmp221_ = NULL;
		ValaTypeSymbol* _tmp222_;
		gboolean _tmp223_;
		_tmp221_ = vala_typeregister_function_get_type_declaration (self);
		_tmp222_ = _tmp221_;
		_tmp223_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp222_, VALA_TYPE_ENUM);
		_vala_code_node_unref0 (_tmp222_);
		if (_tmp223_) {
			ValaTypeSymbol* _tmp224_ = NULL;
			ValaEnum* en;
			ValaEnum* _tmp225_;
			gboolean _tmp226_;
			gboolean _tmp227_;
			_tmp224_ = vala_typeregister_function_get_type_declaration (self);
			en = G_TYPE_CHECK_INSTANCE_TYPE (_tmp224_, VALA_TYPE_ENUM) ? ((ValaEnum*) _tmp224_) : NULL;
			_tmp225_ = en;
			_tmp226_ = vala_enum_get_is_flags (_tmp225_);
			_tmp227_ = _tmp226_;
			if (_tmp227_) {
				ValaCCodeIdentifier* _tmp228_;
				ValaCCodeIdentifier* _tmp229_;
				ValaCCodeFunctionCall* _tmp230_;
				_tmp228_ = vala_ccode_identifier_new ("g_flags_register_static");
				_tmp229_ = _tmp228_;
				_tmp230_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp229_);
				_vala_ccode_node_unref0 (reg_call);
				reg_call = _tmp230_;
				_vala_ccode_node_unref0 (_tmp229_);
			} else {
				ValaCCodeIdentifier* _tmp231_;
				ValaCCodeIdentifier* _tmp232_;
				ValaCCodeFunctionCall* _tmp233_;
				_tmp231_ = vala_ccode_identifier_new ("g_enum_register_static");
				_tmp232_ = _tmp231_;
				_tmp233_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp232_);
				_vala_ccode_node_unref0 (reg_call);
				reg_call = _tmp233_;
				_vala_ccode_node_unref0 (_tmp232_);
			}
			_vala_code_node_unref0 (en);
		} else {
			gboolean _tmp234_;
			_tmp234_ = fundamental;
			if (_tmp234_) {
				ValaCCodeIdentifier* _tmp235_;
				ValaCCodeIdentifier* _tmp236_;
				ValaCCodeFunctionCall* _tmp237_;
				ValaCCodeFunctionCall* _tmp238_;
				ValaCCodeIdentifier* _tmp239_;
				ValaCCodeIdentifier* _tmp240_;
				ValaCCodeFunctionCall* _tmp241_;
				ValaCCodeFunctionCall* _tmp242_;
				_tmp235_ = vala_ccode_identifier_new ("g_type_register_fundamental");
				_tmp236_ = _tmp235_;
				_tmp237_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp236_);
				_vala_ccode_node_unref0 (reg_call);
				reg_call = _tmp237_;
				_vala_ccode_node_unref0 (_tmp236_);
				_tmp238_ = reg_call;
				_tmp239_ = vala_ccode_identifier_new ("g_type_fundamental_next");
				_tmp240_ = _tmp239_;
				_tmp241_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp240_);
				_tmp242_ = _tmp241_;
				vala_ccode_function_call_add_argument (_tmp238_, (ValaCCodeExpression*) _tmp242_);
				_vala_ccode_node_unref0 (_tmp242_);
				_vala_ccode_node_unref0 (_tmp240_);
			} else {
				gboolean _tmp243_;
				_tmp243_ = plugin;
				if (!_tmp243_) {
					ValaCCodeIdentifier* _tmp244_;
					ValaCCodeIdentifier* _tmp245_;
					ValaCCodeFunctionCall* _tmp246_;
					ValaCCodeFunctionCall* _tmp247_;
					gchar* _tmp248_ = NULL;
					gchar* _tmp249_;
					ValaCCodeIdentifier* _tmp250_;
					ValaCCodeIdentifier* _tmp251_;
					_tmp244_ = vala_ccode_identifier_new ("g_type_register_static");
					_tmp245_ = _tmp244_;
					_tmp246_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp245_);
					_vala_ccode_node_unref0 (reg_call);
					reg_call = _tmp246_;
					_vala_ccode_node_unref0 (_tmp245_);
					_tmp247_ = reg_call;
					_tmp248_ = vala_typeregister_function_get_parent_type_name (self);
					_tmp249_ = _tmp248_;
					_tmp250_ = vala_ccode_identifier_new (_tmp249_);
					_tmp251_ = _tmp250_;
					vala_ccode_function_call_add_argument (_tmp247_, (ValaCCodeExpression*) _tmp251_);
					_vala_ccode_node_unref0 (_tmp251_);
					_g_free0 (_tmp249_);
				} else {
					ValaCCodeIdentifier* _tmp252_;
					ValaCCodeIdentifier* _tmp253_;
					ValaCCodeFunctionCall* _tmp254_;
					ValaCCodeFunctionCall* _tmp255_;
					ValaCCodeIdentifier* _tmp256_;
					ValaCCodeIdentifier* _tmp257_;
					ValaCCodeFunctionCall* _tmp258_;
					gchar* _tmp259_ = NULL;
					gchar* _tmp260_;
					ValaCCodeIdentifier* _tmp261_;
					ValaCCodeIdentifier* _tmp262_;
					_tmp252_ = vala_ccode_identifier_new ("g_type_module_register_type");
					_tmp253_ = _tmp252_;
					_tmp254_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp253_);
					_vala_ccode_node_unref0 (reg_call);
					reg_call = _tmp254_;
					_vala_ccode_node_unref0 (_tmp253_);
					_tmp255_ = reg_call;
					_tmp256_ = vala_ccode_identifier_new ("module");
					_tmp257_ = _tmp256_;
					vala_ccode_function_call_add_argument (_tmp255_, (ValaCCodeExpression*) _tmp257_);
					_vala_ccode_node_unref0 (_tmp257_);
					_tmp258_ = reg_call;
					_tmp259_ = vala_typeregister_function_get_parent_type_name (self);
					_tmp260_ = _tmp259_;
					_tmp261_ = vala_ccode_identifier_new (_tmp260_);
					_tmp262_ = _tmp261_;
					vala_ccode_function_call_add_argument (_tmp258_, (ValaCCodeExpression*) _tmp262_);
					_vala_ccode_node_unref0 (_tmp262_);
					_g_free0 (_tmp260_);
				}
			}
		}
	}
	_tmp263_ = reg_call;
	_tmp264_ = vala_typeregister_function_get_type_declaration (self);
	_tmp265_ = _tmp264_;
	_tmp266_ = vala_ccode_base_module_get_ccode_name ((ValaCodeNode*) _tmp265_);
	_tmp267_ = _tmp266_;
	_tmp268_ = g_strdup_printf ("\"%s\"", _tmp267_);
	_tmp269_ = _tmp268_;
	_tmp270_ = vala_ccode_constant_new (_tmp269_);
	_tmp271_ = _tmp270_;
	vala_ccode_function_call_add_argument (_tmp263_, (ValaCCodeExpression*) _tmp271_);
	_vala_ccode_node_unref0 (_tmp271_);
	_g_free0 (_tmp269_);
	_g_free0 (_tmp267_);
	_vala_code_node_unref0 (_tmp265_);
	_tmp272_ = vala_typeregister_function_get_type_declaration (self);
	_tmp273_ = _tmp272_;
	_tmp274_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp273_, VALA_TYPE_STRUCT);
	_vala_code_node_unref0 (_tmp273_);
	if (_tmp274_) {
		ValaTypeSymbol* _tmp275_ = NULL;
		ValaStruct* st;
		ValaCCodeFunctionCall* _tmp276_;
		ValaStruct* _tmp277_;
		gchar* _tmp278_ = NULL;
		gchar* _tmp279_;
		ValaCCodeIdentifier* _tmp280_;
		ValaCCodeIdentifier* _tmp281_;
		ValaCCodeCastExpression* _tmp282_;
		ValaCCodeCastExpression* _tmp283_;
		ValaCCodeFunctionCall* _tmp284_;
		ValaStruct* _tmp285_;
		gchar* _tmp286_ = NULL;
		gchar* _tmp287_;
		ValaCCodeIdentifier* _tmp288_;
		ValaCCodeIdentifier* _tmp289_;
		ValaCCodeCastExpression* _tmp290_;
		ValaCCodeCastExpression* _tmp291_;
		_tmp275_ = vala_typeregister_function_get_type_declaration (self);
		st = G_TYPE_CHECK_INSTANCE_CAST (_tmp275_, VALA_TYPE_STRUCT, ValaStruct);
		_tmp276_ = reg_call;
		_tmp277_ = st;
		_tmp278_ = vala_ccode_base_module_get_ccode_dup_function ((ValaTypeSymbol*) _tmp277_);
		_tmp279_ = _tmp278_;
		_tmp280_ = vala_ccode_identifier_new (_tmp279_);
		_tmp281_ = _tmp280_;
		_tmp282_ = vala_ccode_cast_expression_new ((ValaCCodeExpression*) _tmp281_, "GBoxedCopyFunc");
		_tmp283_ = _tmp282_;
		vala_ccode_function_call_add_argument (_tmp276_, (ValaCCodeExpression*) _tmp283_);
		_vala_ccode_node_unref0 (_tmp283_);
		_vala_ccode_node_unref0 (_tmp281_);
		_g_free0 (_tmp279_);
		_tmp284_ = reg_call;
		_tmp285_ = st;
		_tmp286_ = vala_ccode_base_module_get_ccode_free_function ((ValaTypeSymbol*) _tmp285_);
		_tmp287_ = _tmp286_;
		_tmp288_ = vala_ccode_identifier_new (_tmp287_);
		_tmp289_ = _tmp288_;
		_tmp290_ = vala_ccode_cast_expression_new ((ValaCCodeExpression*) _tmp289_, "GBoxedFreeFunc");
		_tmp291_ = _tmp290_;
		vala_ccode_function_call_add_argument (_tmp284_, (ValaCCodeExpression*) _tmp291_);
		_vala_ccode_node_unref0 (_tmp291_);
		_vala_ccode_node_unref0 (_tmp289_);
		_g_free0 (_tmp287_);
		_vala_code_node_unref0 (st);
	} else {
		ValaTypeSymbol* _tmp292_ = NULL;
		ValaTypeSymbol* _tmp293_;
		gboolean _tmp294_;
		_tmp292_ = vala_typeregister_function_get_type_declaration (self);
		_tmp293_ = _tmp292_;
		_tmp294_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp293_, VALA_TYPE_ENUM);
		_vala_code_node_unref0 (_tmp293_);
		if (_tmp294_) {
			ValaTypeSymbol* _tmp295_ = NULL;
			ValaEnum* en;
			ValaCCodeInitializerList* _tmp296_;
			ValaCCodeInitializerList* clist;
			ValaCCodeInitializerList* clist_ev;
			ValaCCodeInitializerList* _tmp329_;
			ValaCCodeInitializerList* _tmp330_;
			ValaCCodeConstant* _tmp331_;
			ValaCCodeConstant* _tmp332_;
			ValaCCodeInitializerList* _tmp333_;
			ValaCCodeConstant* _tmp334_;
			ValaCCodeConstant* _tmp335_;
			ValaCCodeInitializerList* _tmp336_;
			ValaCCodeConstant* _tmp337_;
			ValaCCodeConstant* _tmp338_;
			ValaCCodeInitializerList* _tmp339_;
			ValaCCodeInitializerList* _tmp340_;
			ValaCCodeInitializerList* _tmp341_;
			ValaCCodeVariableDeclarator* _tmp342_;
			ValaCCodeVariableDeclarator* enum_decl;
			ValaEnum* _tmp343_;
			gboolean _tmp344_;
			gboolean _tmp345_;
			ValaCCodeDeclaration* _tmp348_;
			ValaCCodeVariableDeclarator* _tmp349_;
			ValaCCodeDeclaration* _tmp350_;
			ValaCCodeBlock* _tmp351_;
			ValaCCodeDeclaration* _tmp352_;
			ValaCCodeFunctionCall* _tmp353_;
			ValaCCodeIdentifier* _tmp354_;
			ValaCCodeIdentifier* _tmp355_;
			_tmp295_ = vala_typeregister_function_get_type_declaration (self);
			en = G_TYPE_CHECK_INSTANCE_TYPE (_tmp295_, VALA_TYPE_ENUM) ? ((ValaEnum*) _tmp295_) : NULL;
			_tmp296_ = vala_ccode_initializer_list_new ();
			clist = _tmp296_;
			clist_ev = NULL;
			{
				ValaEnum* _tmp297_;
				ValaList* _tmp298_ = NULL;
				ValaList* _ev_list;
				ValaList* _tmp299_;
				gint _tmp300_;
				gint _tmp301_;
				gint _ev_size;
				gint _ev_index;
				_tmp297_ = en;
				_tmp298_ = vala_enum_get_values (_tmp297_);
				_ev_list = _tmp298_;
				_tmp299_ = _ev_list;
				_tmp300_ = vala_collection_get_size ((ValaCollection*) _tmp299_);
				_tmp301_ = _tmp300_;
				_ev_size = _tmp301_;
				_ev_index = -1;
				while (TRUE) {
					gint _tmp302_;
					gint _tmp303_;
					gint _tmp304_;
					ValaList* _tmp305_;
					gint _tmp306_;
					gpointer _tmp307_ = NULL;
					ValaEnumValue* ev;
					ValaCCodeInitializerList* _tmp308_;
					ValaCCodeInitializerList* _tmp309_;
					ValaEnumValue* _tmp310_;
					gchar* _tmp311_ = NULL;
					gchar* _tmp312_;
					ValaCCodeConstant* _tmp313_;
					ValaCCodeConstant* _tmp314_;
					ValaCCodeInitializerList* _tmp315_;
					ValaEnumValue* _tmp316_;
					gchar* _tmp317_ = NULL;
					gchar* _tmp318_;
					gchar* _tmp319_ = NULL;
					gchar* _tmp320_;
					ValaCCodeIdentifier* _tmp321_;
					ValaCCodeIdentifier* _tmp322_;
					ValaCCodeInitializerList* _tmp323_;
					ValaEnumValue* _tmp324_;
					ValaCCodeConstant* _tmp325_ = NULL;
					ValaCCodeConstant* _tmp326_;
					ValaCCodeInitializerList* _tmp327_;
					ValaCCodeInitializerList* _tmp328_;
					_tmp302_ = _ev_index;
					_ev_index = _tmp302_ + 1;
					_tmp303_ = _ev_index;
					_tmp304_ = _ev_size;
					if (!(_tmp303_ < _tmp304_)) {
						break;
					}
					_tmp305_ = _ev_list;
					_tmp306_ = _ev_index;
					_tmp307_ = vala_list_get (_tmp305_, _tmp306_);
					ev = (ValaEnumValue*) _tmp307_;
					_tmp308_ = vala_ccode_initializer_list_new ();
					_vala_ccode_node_unref0 (clist_ev);
					clist_ev = _tmp308_;
					_tmp309_ = clist_ev;
					_tmp310_ = ev;
					_tmp311_ = vala_ccode_base_module_get_ccode_name ((ValaCodeNode*) _tmp310_);
					_tmp312_ = _tmp311_;
					_tmp313_ = vala_ccode_constant_new (_tmp312_);
					_tmp314_ = _tmp313_;
					vala_ccode_initializer_list_append (_tmp309_, (ValaCCodeExpression*) _tmp314_);
					_vala_ccode_node_unref0 (_tmp314_);
					_g_free0 (_tmp312_);
					_tmp315_ = clist_ev;
					_tmp316_ = ev;
					_tmp317_ = vala_ccode_base_module_get_ccode_name ((ValaCodeNode*) _tmp316_);
					_tmp318_ = _tmp317_;
					_tmp319_ = g_strdup_printf ("\"%s\"", _tmp318_);
					_tmp320_ = _tmp319_;
					_tmp321_ = vala_ccode_identifier_new (_tmp320_);
					_tmp322_ = _tmp321_;
					vala_ccode_initializer_list_append (_tmp315_, (ValaCCodeExpression*) _tmp322_);
					_vala_ccode_node_unref0 (_tmp322_);
					_g_free0 (_tmp320_);
					_g_free0 (_tmp318_);
					_tmp323_ = clist_ev;
					_tmp324_ = ev;
					_tmp325_ = vala_ccode_base_module_get_enum_value_canonical_cconstant (_tmp324_);
					_tmp326_ = _tmp325_;
					vala_ccode_initializer_list_append (_tmp323_, (ValaCCodeExpression*) _tmp326_);
					_vala_ccode_node_unref0 (_tmp326_);
					_tmp327_ = clist;
					_tmp328_ = clist_ev;
					vala_ccode_initializer_list_append (_tmp327_, (ValaCCodeExpression*) _tmp328_);
					_vala_code_node_unref0 (ev);
				}
				_vala_iterable_unref0 (_ev_list);
			}
			_tmp329_ = vala_ccode_initializer_list_new ();
			_vala_ccode_node_unref0 (clist_ev);
			clist_ev = _tmp329_;
			_tmp330_ = clist_ev;
			_tmp331_ = vala_ccode_constant_new ("0");
			_tmp332_ = _tmp331_;
			vala_ccode_initializer_list_append (_tmp330_, (ValaCCodeExpression*) _tmp332_);
			_vala_ccode_node_unref0 (_tmp332_);
			_tmp333_ = clist_ev;
			_tmp334_ = vala_ccode_constant_new ("NULL");
			_tmp335_ = _tmp334_;
			vala_ccode_initializer_list_append (_tmp333_, (ValaCCodeExpression*) _tmp335_);
			_vala_ccode_node_unref0 (_tmp335_);
			_tmp336_ = clist_ev;
			_tmp337_ = vala_ccode_constant_new ("NULL");
			_tmp338_ = _tmp337_;
			vala_ccode_initializer_list_append (_tmp336_, (ValaCCodeExpression*) _tmp338_);
			_vala_ccode_node_unref0 (_tmp338_);
			_tmp339_ = clist;
			_tmp340_ = clist_ev;
			vala_ccode_initializer_list_append (_tmp339_, (ValaCCodeExpression*) _tmp340_);
			_tmp341_ = clist;
			_tmp342_ = vala_ccode_variable_declarator_new ("values[]", (ValaCCodeExpression*) _tmp341_, NULL);
			enum_decl = _tmp342_;
			_tmp343_ = en;
			_tmp344_ = vala_enum_get_is_flags (_tmp343_);
			_tmp345_ = _tmp344_;
			if (_tmp345_) {
				ValaCCodeDeclaration* _tmp346_;
				_tmp346_ = vala_ccode_declaration_new ("const GFlagsValue");
				_vala_ccode_node_unref0 (_cdecl_);
				_cdecl_ = _tmp346_;
			} else {
				ValaCCodeDeclaration* _tmp347_;
				_tmp347_ = vala_ccode_declaration_new ("const GEnumValue");
				_vala_ccode_node_unref0 (_cdecl_);
				_cdecl_ = _tmp347_;
			}
			_tmp348_ = _cdecl_;
			_tmp349_ = enum_decl;
			vala_ccode_declaration_add_declarator (_tmp348_, (ValaCCodeDeclarator*) _tmp349_);
			_tmp350_ = _cdecl_;
			vala_ccode_declaration_set_modifiers (_tmp350_, VALA_CCODE_MODIFIERS_STATIC);
			_tmp351_ = type_init;
			_tmp352_ = _cdecl_;
			vala_ccode_block_add_statement (_tmp351_, (ValaCCodeNode*) _tmp352_);
			_tmp353_ = reg_call;
			_tmp354_ = vala_ccode_identifier_new ("values");
			_tmp355_ = _tmp354_;
			vala_ccode_function_call_add_argument (_tmp353_, (ValaCCodeExpression*) _tmp355_);
			_vala_ccode_node_unref0 (_tmp355_);
			_vala_ccode_node_unref0 (enum_decl);
			_vala_ccode_node_unref0 (clist_ev);
			_vala_ccode_node_unref0 (clist);
			_vala_code_node_unref0 (en);
		} else {
			ValaCCodeFunctionCall* _tmp356_;
			ValaCCodeIdentifier* _tmp357_;
			ValaCCodeIdentifier* _tmp358_;
			gboolean _tmp359_;
			ValaCCodeFunctionCall* _tmp363_;
			gchar* _tmp364_ = NULL;
			gchar* _tmp365_;
			ValaCCodeConstant* _tmp366_;
			ValaCCodeConstant* _tmp367_;
			_tmp356_ = reg_call;
			_tmp357_ = vala_ccode_identifier_new ("&g_define_type_info");
			_tmp358_ = _tmp357_;
			vala_ccode_function_call_add_argument (_tmp356_, (ValaCCodeExpression*) _tmp358_);
			_vala_ccode_node_unref0 (_tmp358_);
			_tmp359_ = fundamental;
			if (_tmp359_) {
				ValaCCodeFunctionCall* _tmp360_;
				ValaCCodeIdentifier* _tmp361_;
				ValaCCodeIdentifier* _tmp362_;
				_tmp360_ = reg_call;
				_tmp361_ = vala_ccode_identifier_new ("&g_define_type_fundamental_info");
				_tmp362_ = _tmp361_;
				vala_ccode_function_call_add_argument (_tmp360_, (ValaCCodeExpression*) _tmp362_);
				_vala_ccode_node_unref0 (_tmp362_);
			}
			_tmp363_ = reg_call;
			_tmp364_ = vala_typeregister_function_get_type_flags (self);
			_tmp365_ = _tmp364_;
			_tmp366_ = vala_ccode_constant_new (_tmp365_);
			_tmp367_ = _tmp366_;
			vala_ccode_function_call_add_argument (_tmp363_, (ValaCCodeExpression*) _tmp367_);
			_vala_ccode_node_unref0 (_tmp367_);
			_g_free0 (_tmp365_);
		}
	}
	_tmp369_ = use_thread_safe;
	if (_tmp369_) {
		gboolean _tmp370_;
		_tmp370_ = plugin;
		_tmp368_ = !_tmp370_;
	} else {
		_tmp368_ = FALSE;
	}
	_tmp371_ = _tmp368_;
	if (_tmp371_) {
		ValaCCodeDeclaration* _tmp372_;
		ValaCCodeDeclaration* temp_decl;
		ValaCCodeDeclaration* _tmp373_;
		const gchar* _tmp374_;
		ValaCCodeFunctionCall* _tmp375_;
		ValaCCodeVariableDeclarator* _tmp376_;
		ValaCCodeVariableDeclarator* _tmp377_;
		ValaCCodeBlock* _tmp378_;
		ValaCCodeDeclaration* _tmp379_;
		_tmp372_ = vala_ccode_declaration_new ("GType");
		temp_decl = _tmp372_;
		_tmp373_ = temp_decl;
		_tmp374_ = type_id_name;
		_tmp375_ = reg_call;
		_tmp376_ = vala_ccode_variable_declarator_new (_tmp374_, (ValaCCodeExpression*) _tmp375_, NULL);
		_tmp377_ = _tmp376_;
		vala_ccode_declaration_add_declarator (_tmp373_, (ValaCCodeDeclarator*) _tmp377_);
		_vala_ccode_node_unref0 (_tmp377_);
		_tmp378_ = type_init;
		_tmp379_ = temp_decl;
		vala_ccode_block_add_statement (_tmp378_, (ValaCCodeNode*) _tmp379_);
		_vala_ccode_node_unref0 (temp_decl);
	} else {
		ValaCCodeBlock* _tmp380_;
		const gchar* _tmp381_;
		ValaCCodeIdentifier* _tmp382_;
		ValaCCodeIdentifier* _tmp383_;
		ValaCCodeFunctionCall* _tmp384_;
		ValaCCodeAssignment* _tmp385_;
		ValaCCodeAssignment* _tmp386_;
		ValaCCodeExpressionStatement* _tmp387_;
		ValaCCodeExpressionStatement* _tmp388_;
		_tmp380_ = type_init;
		_tmp381_ = type_id_name;
		_tmp382_ = vala_ccode_identifier_new (_tmp381_);
		_tmp383_ = _tmp382_;
		_tmp384_ = reg_call;
		_tmp385_ = vala_ccode_assignment_new ((ValaCCodeExpression*) _tmp383_, (ValaCCodeExpression*) _tmp384_, VALA_CCODE_ASSIGNMENT_OPERATOR_SIMPLE);
		_tmp386_ = _tmp385_;
		_tmp387_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) _tmp386_);
		_tmp388_ = _tmp387_;
		vala_ccode_block_add_statement (_tmp380_, (ValaCCodeNode*) _tmp388_);
		_vala_ccode_node_unref0 (_tmp388_);
		_vala_ccode_node_unref0 (_tmp386_);
		_vala_ccode_node_unref0 (_tmp383_);
	}
	_tmp391_ = cl;
	if (_tmp391_ != NULL) {
		ValaClass* _tmp392_;
		gboolean _tmp393_;
		gboolean _tmp394_;
		_tmp392_ = cl;
		_tmp393_ = vala_class_get_has_class_private_fields (_tmp392_);
		_tmp394_ = _tmp393_;
		_tmp390_ = _tmp394_;
	} else {
		_tmp390_ = FALSE;
	}
	_tmp395_ = _tmp390_;
	if (_tmp395_) {
		ValaCodeContext* _tmp396_;
		gboolean _tmp397_ = FALSE;
		_tmp396_ = self->priv->_context;
		_tmp397_ = vala_code_context_require_glib_version (_tmp396_, 2, 24);
		_tmp389_ = _tmp397_;
	} else {
		_tmp389_ = FALSE;
	}
	_tmp398_ = _tmp389_;
	if (_tmp398_) {
		ValaCCodeFunctionCall* add_class_private_call = NULL;
		ValaCCodeIdentifier* _tmp399_;
		ValaCCodeIdentifier* _tmp400_;
		ValaCCodeFunctionCall* _tmp401_;
		ValaCCodeFunctionCall* _tmp402_;
		const gchar* _tmp403_;
		ValaCCodeIdentifier* _tmp404_;
		ValaCCodeIdentifier* _tmp405_;
		ValaCCodeFunctionCall* _tmp406_;
		ValaTypeSymbol* _tmp407_ = NULL;
		ValaTypeSymbol* _tmp408_;
		gchar* _tmp409_ = NULL;
		gchar* _tmp410_;
		gchar* _tmp411_ = NULL;
		gchar* _tmp412_;
		ValaCCodeIdentifier* _tmp413_;
		ValaCCodeIdentifier* _tmp414_;
		ValaCCodeBlock* _tmp415_;
		ValaCCodeFunctionCall* _tmp416_;
		ValaCCodeExpressionStatement* _tmp417_;
		ValaCCodeExpressionStatement* _tmp418_;
		_tmp399_ = vala_ccode_identifier_new ("g_type_add_class_private");
		_tmp400_ = _tmp399_;
		_tmp401_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp400_);
		_vala_ccode_node_unref0 (add_class_private_call);
		add_class_private_call = _tmp401_;
		_vala_ccode_node_unref0 (_tmp400_);
		_tmp402_ = add_class_private_call;
		_tmp403_ = type_id_name;
		_tmp404_ = vala_ccode_identifier_new (_tmp403_);
		_tmp405_ = _tmp404_;
		vala_ccode_function_call_add_argument (_tmp402_, (ValaCCodeExpression*) _tmp405_);
		_vala_ccode_node_unref0 (_tmp405_);
		_tmp406_ = add_class_private_call;
		_tmp407_ = vala_typeregister_function_get_type_declaration (self);
		_tmp408_ = _tmp407_;
		_tmp409_ = vala_ccode_base_module_get_ccode_name ((ValaCodeNode*) _tmp408_);
		_tmp410_ = _tmp409_;
		_tmp411_ = g_strdup_printf ("sizeof (%sClassPrivate)", _tmp410_);
		_tmp412_ = _tmp411_;
		_tmp413_ = vala_ccode_identifier_new (_tmp412_);
		_tmp414_ = _tmp413_;
		vala_ccode_function_call_add_argument (_tmp406_, (ValaCCodeExpression*) _tmp414_);
		_vala_ccode_node_unref0 (_tmp414_);
		_g_free0 (_tmp412_);
		_g_free0 (_tmp410_);
		_vala_code_node_unref0 (_tmp408_);
		_tmp415_ = type_init;
		_tmp416_ = add_class_private_call;
		_tmp417_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) _tmp416_);
		_tmp418_ = _tmp417_;
		vala_ccode_block_add_statement (_tmp415_, (ValaCCodeNode*) _tmp418_);
		_vala_ccode_node_unref0 (_tmp418_);
		_vala_ccode_node_unref0 (add_class_private_call);
	}
	_tmp419_ = declaration_only;
	if (!_tmp419_) {
		ValaCCodeBlock* _tmp420_;
		gboolean _tmp421_;
		_tmp420_ = type_init;
		_tmp421_ = plugin;
		vala_typeregister_function_get_type_interface_init_statements (self, _tmp420_, _tmp421_);
	}
	_tmp422_ = plugin;
	if (!_tmp422_) {
		ValaCCodeExpression* condition = NULL;
		gboolean _tmp423_;
		ValaCCodeExpression* cond = NULL;
		gboolean _tmp464_;
		ValaCCodeExpression* _tmp472_;
		ValaCCodeBlock* _tmp473_;
		ValaCCodeIfStatement* _tmp474_;
		ValaCCodeIfStatement* cif;
		ValaCCodeBlock* _tmp475_;
		ValaCCodeIfStatement* _tmp476_;
		_tmp423_ = use_thread_safe;
		if (_tmp423_) {
			ValaCCodeIdentifier* _tmp424_;
			ValaCCodeIdentifier* _tmp425_;
			ValaCCodeFunctionCall* _tmp426_;
			ValaCCodeFunctionCall* _tmp427_;
			ValaCCodeFunctionCall* enter;
			ValaCCodeFunctionCall* _tmp428_;
			const gchar* _tmp429_;
			gchar* _tmp430_;
			gchar* _tmp431_;
			ValaCCodeIdentifier* _tmp432_;
			ValaCCodeIdentifier* _tmp433_;
			ValaCCodeUnaryExpression* _tmp434_;
			ValaCCodeUnaryExpression* _tmp435_;
			ValaCCodeFunctionCall* _tmp436_;
			ValaCCodeExpression* _tmp437_;
			ValaCCodeIdentifier* _tmp438_;
			ValaCCodeIdentifier* _tmp439_;
			ValaCCodeFunctionCall* _tmp440_;
			ValaCCodeFunctionCall* _tmp441_;
			ValaCCodeFunctionCall* leave;
			ValaCCodeFunctionCall* _tmp442_;
			const gchar* _tmp443_;
			gchar* _tmp444_;
			gchar* _tmp445_;
			ValaCCodeIdentifier* _tmp446_;
			ValaCCodeIdentifier* _tmp447_;
			ValaCCodeUnaryExpression* _tmp448_;
			ValaCCodeUnaryExpression* _tmp449_;
			ValaCCodeFunctionCall* _tmp450_;
			const gchar* _tmp451_;
			ValaCCodeIdentifier* _tmp452_;
			ValaCCodeIdentifier* _tmp453_;
			ValaCCodeBlock* _tmp454_;
			ValaCCodeFunctionCall* _tmp455_;
			ValaCCodeExpressionStatement* _tmp456_;
			ValaCCodeExpressionStatement* _tmp457_;
			_tmp424_ = vala_ccode_identifier_new ("g_once_init_enter");
			_tmp425_ = _tmp424_;
			_tmp426_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp425_);
			_tmp427_ = _tmp426_;
			_vala_ccode_node_unref0 (_tmp425_);
			enter = _tmp427_;
			_tmp428_ = enter;
			_tmp429_ = type_id_name;
			_tmp430_ = g_strconcat (_tmp429_, "__volatile", NULL);
			_tmp431_ = _tmp430_;
			_tmp432_ = vala_ccode_identifier_new (_tmp431_);
			_tmp433_ = _tmp432_;
			_tmp434_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) _tmp433_);
			_tmp435_ = _tmp434_;
			vala_ccode_function_call_add_argument (_tmp428_, (ValaCCodeExpression*) _tmp435_);
			_vala_ccode_node_unref0 (_tmp435_);
			_vala_ccode_node_unref0 (_tmp433_);
			_g_free0 (_tmp431_);
			_tmp436_ = enter;
			_tmp437_ = _vala_ccode_node_ref0 ((ValaCCodeExpression*) _tmp436_);
			_vala_ccode_node_unref0 (condition);
			condition = _tmp437_;
			_tmp438_ = vala_ccode_identifier_new ("g_once_init_leave");
			_tmp439_ = _tmp438_;
			_tmp440_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp439_);
			_tmp441_ = _tmp440_;
			_vala_ccode_node_unref0 (_tmp439_);
			leave = _tmp441_;
			_tmp442_ = leave;
			_tmp443_ = type_id_name;
			_tmp444_ = g_strconcat (_tmp443_, "__volatile", NULL);
			_tmp445_ = _tmp444_;
			_tmp446_ = vala_ccode_identifier_new (_tmp445_);
			_tmp447_ = _tmp446_;
			_tmp448_ = vala_ccode_unary_expression_new (VALA_CCODE_UNARY_OPERATOR_ADDRESS_OF, (ValaCCodeExpression*) _tmp447_);
			_tmp449_ = _tmp448_;
			vala_ccode_function_call_add_argument (_tmp442_, (ValaCCodeExpression*) _tmp449_);
			_vala_ccode_node_unref0 (_tmp449_);
			_vala_ccode_node_unref0 (_tmp447_);
			_g_free0 (_tmp445_);
			_tmp450_ = leave;
			_tmp451_ = type_id_name;
			_tmp452_ = vala_ccode_identifier_new (_tmp451_);
			_tmp453_ = _tmp452_;
			vala_ccode_function_call_add_argument (_tmp450_, (ValaCCodeExpression*) _tmp453_);
			_vala_ccode_node_unref0 (_tmp453_);
			_tmp454_ = type_init;
			_tmp455_ = leave;
			_tmp456_ = vala_ccode_expression_statement_new ((ValaCCodeExpression*) _tmp455_);
			_tmp457_ = _tmp456_;
			vala_ccode_block_add_statement (_tmp454_, (ValaCCodeNode*) _tmp457_);
			_vala_ccode_node_unref0 (_tmp457_);
			_vala_ccode_node_unref0 (leave);
			_vala_ccode_node_unref0 (enter);
		} else {
			const gchar* _tmp458_;
			ValaCCodeIdentifier* _tmp459_;
			ValaCCodeIdentifier* id;
			ValaCCodeConstant* _tmp460_;
			ValaCCodeConstant* zero;
			ValaCCodeIdentifier* _tmp461_;
			ValaCCodeConstant* _tmp462_;
			ValaCCodeBinaryExpression* _tmp463_;
			_tmp458_ = type_id_name;
			_tmp459_ = vala_ccode_identifier_new (_tmp458_);
			id = _tmp459_;
			_tmp460_ = vala_ccode_constant_new ("0");
			zero = _tmp460_;
			_tmp461_ = id;
			_tmp462_ = zero;
			_tmp463_ = vala_ccode_binary_expression_new (VALA_CCODE_BINARY_OPERATOR_EQUALITY, (ValaCCodeExpression*) _tmp461_, (ValaCCodeExpression*) _tmp462_);
			_vala_ccode_node_unref0 (condition);
			condition = (ValaCCodeExpression*) _tmp463_;
			_vala_ccode_node_unref0 (zero);
			_vala_ccode_node_unref0 (id);
		}
		_tmp464_ = use_thread_safe;
		if (_tmp464_) {
			ValaCCodeExpression* _tmp465_;
			ValaCCodeExpression* _tmp466_;
			_tmp465_ = condition;
			_tmp466_ = _vala_ccode_node_ref0 (_tmp465_);
			_vala_ccode_node_unref0 (cond);
			cond = _tmp466_;
		} else {
			ValaCCodeIdentifier* _tmp467_;
			ValaCCodeIdentifier* _tmp468_;
			ValaCCodeFunctionCall* _tmp469_;
			ValaCCodeExpression* _tmp470_;
			ValaCCodeExpression* _tmp471_;
			_tmp467_ = vala_ccode_identifier_new ("G_UNLIKELY");
			_tmp468_ = _tmp467_;
			_tmp469_ = vala_ccode_function_call_new ((ValaCCodeExpression*) _tmp468_);
			_vala_ccode_node_unref0 (cond);
			cond = (ValaCCodeExpression*) _tmp469_;
			_vala_ccode_node_unref0 (_tmp468_);
			_tmp470_ = cond;
			_tmp471_ = condition;
			vala_ccode_function_call_add_argument (G_TYPE_CHECK_INSTANCE_TYPE (_tmp470_, VALA_TYPE_CCODE_FUNCTION_CALL) ? ((ValaCCodeFunctionCall*) _tmp470_) : NULL, _tmp471_);
		}
		_tmp472_ = cond;
		_tmp473_ = type_init;
		_tmp474_ = vala_ccode_if_statement_new (_tmp472_, (ValaCCodeStatement*) _tmp473_, NULL);
		cif = _tmp474_;
		_tmp475_ = type_block;
		_tmp476_ = cif;
		vala_ccode_block_add_statement (_tmp475_, (ValaCCodeNode*) _tmp476_);
		_vala_ccode_node_unref0 (cif);
		_vala_ccode_node_unref0 (cond);
		_vala_ccode_node_unref0 (condition);
	} else {
		ValaCCodeBlock* _tmp477_;
		ValaCCodeBlock* _tmp478_;
		_tmp477_ = type_init;
		_tmp478_ = _vala_ccode_node_ref0 (_tmp477_);
		_vala_ccode_node_unref0 (type_block);
		type_block = _tmp478_;
	}
	_tmp479_ = use_thread_safe;
	if (_tmp479_) {
		ValaCCodeBlock* _tmp480_;
		const gchar* _tmp481_;
		gchar* _tmp482_;
		gchar* _tmp483_;
		ValaCCodeIdentifier* _tmp484_;
		ValaCCodeIdentifier* _tmp485_;
		ValaCCodeReturnStatement* _tmp486_;
		ValaCCodeReturnStatement* _tmp487_;
		_tmp480_ = type_block;
		_tmp481_ = type_id_name;
		_tmp482_ = g_strconcat (_tmp481_, "__volatile", NULL);
		_tmp483_ = _tmp482_;
		_tmp484_ = vala_ccode_identifier_new (_tmp483_);
		_tmp485_ = _tmp484_;
		_tmp486_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) _tmp485_);
		_tmp487_ = _tmp486_;
		vala_ccode_block_add_statement (_tmp480_, (ValaCCodeNode*) _tmp487_);
		_vala_ccode_node_unref0 (_tmp487_);
		_vala_ccode_node_unref0 (_tmp485_);
		_g_free0 (_tmp483_);
	} else {
		ValaCCodeBlock* _tmp488_;
		const gchar* _tmp489_;
		ValaCCodeIdentifier* _tmp490_;
		ValaCCodeIdentifier* _tmp491_;
		ValaCCodeReturnStatement* _tmp492_;
		ValaCCodeReturnStatement* _tmp493_;
		_tmp488_ = type_block;
		_tmp489_ = type_id_name;
		_tmp490_ = vala_ccode_identifier_new (_tmp489_);
		_tmp491_ = _tmp490_;
		_tmp492_ = vala_ccode_return_statement_new ((ValaCCodeExpression*) _tmp491_);
		_tmp493_ = _tmp492_;
		vala_ccode_block_add_statement (_tmp488_, (ValaCCodeNode*) _tmp493_);
		_vala_ccode_node_unref0 (_tmp493_);
		_vala_ccode_node_unref0 (_tmp491_);
	}
	_tmp494_ = fun;
	vala_ccode_function_set_is_declaration (_tmp494_, TRUE);
	_tmp495_ = self->priv->declaration_fragment;
	_tmp496_ = fun;
	_tmp497_ = vala_ccode_function_copy (_tmp496_);
	_tmp498_ = _tmp497_;
	vala_ccode_fragment_append (_tmp495_, (ValaCCodeNode*) _tmp498_);
	_vala_ccode_node_unref0 (_tmp498_);
	_tmp499_ = fun;
	vala_ccode_function_set_is_declaration (_tmp499_, FALSE);
	_tmp500_ = fun;
	_tmp501_ = type_block;
	vala_ccode_function_set_block (_tmp500_, _tmp501_);
	_tmp502_ = self->priv->definition_fragment;
	_tmp503_ = fun;
	vala_ccode_fragment_append (_tmp502_, (ValaCCodeNode*) _tmp503_);
	_vala_ccode_node_unref0 (reg_call);
	_vala_ccode_node_unref0 (type_init);
	_g_free0 (type_value_table_decl_name);
	_vala_ccode_node_unref0 (fun);
	_vala_ccode_node_unref0 (_cdecl_);
	_vala_ccode_node_unref0 (type_block);
	_g_free0 (type_id_name);
	_vala_code_node_unref0 (cl);
}


/**
 * Returns the data type to be registered.
 *
 * @return type to be registered
 */
static ValaTypeSymbol* vala_typeregister_function_real_get_type_declaration (ValaTypeRegisterFunction* self) {
	g_critical ("Type `%s' does not implement abstract method `vala_typeregister_function_get_type_declaration'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return NULL;
}


ValaTypeSymbol* vala_typeregister_function_get_type_declaration (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_declaration (self);
}


/**
 * Returns the name of the type struct in C code.
 *
 * @return C struct name
 */
static gchar* vala_typeregister_function_real_get_type_struct_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_type_struct_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_struct_name (self);
}


/**
 * Returns the name of the base_init function in C code.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_base_init_func_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_base_init_func_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_base_init_func_name (self);
}


/**
 * Returns the name of the class_finalize function in C code.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_class_finalize_func_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_class_finalize_func_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_class_finalize_func_name (self);
}


/**
 * Returns the name of the base_finalize function in C code.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_base_finalize_func_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_base_finalize_func_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_base_finalize_func_name (self);
}


/**
 * Returns the name of the class_init function in C code.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_class_init_func_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_class_init_func_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_class_init_func_name (self);
}


/**
 * Returns the size of the instance struct in C code.
 *
 * @return C instance struct size
 */
static gchar* vala_typeregister_function_real_get_instance_struct_size (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_instance_struct_size (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_instance_struct_size (self);
}


/**
 * Returns the name of the instance_init function in C code.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_instance_init_func_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_instance_init_func_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_instance_init_func_name (self);
}


/**
 * Returns the name of the parent type in C code.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_parent_type_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	g_assert_not_reached ();
	return result;
}


gchar* vala_typeregister_function_get_parent_type_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_parent_type_name (self);
}


/**
 * Returns the C-name of the new generated GTypeValueTable init function or null when not available.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_gtype_value_table_init_function_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	result = NULL;
	return result;
}


gchar* vala_typeregister_function_get_gtype_value_table_init_function_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_init_function_name (self);
}


/**
 * Returns the C-name of the new generated GTypeValueTable peek pointer function or null when not available.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_gtype_value_table_peek_pointer_function_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	result = NULL;
	return result;
}


gchar* vala_typeregister_function_get_gtype_value_table_peek_pointer_function_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_peek_pointer_function_name (self);
}


/**
 * Returns the C-name of the new generated GTypeValueTable free function or null when not available.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_gtype_value_table_free_function_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	result = NULL;
	return result;
}


gchar* vala_typeregister_function_get_gtype_value_table_free_function_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_free_function_name (self);
}


/**
 * Returns the C-name of the new generated GTypeValueTable copy function or null when not available.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_gtype_value_table_copy_function_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	result = NULL;
	return result;
}


gchar* vala_typeregister_function_get_gtype_value_table_copy_function_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_copy_function_name (self);
}


/**
 * Returns the C-name of the new generated GTypeValueTable lcopy function or null when not available.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_gtype_value_table_lcopy_value_function_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	result = NULL;
	return result;
}


gchar* vala_typeregister_function_get_gtype_value_table_lcopy_value_function_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_lcopy_value_function_name (self);
}


/**
 * Returns the C-name of the new generated GTypeValueTable collect value function or null when not available.
 *
 * @return C function name
 */
static gchar* vala_typeregister_function_real_get_gtype_value_table_collect_value_function_name (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	result = NULL;
	return result;
}


gchar* vala_typeregister_function_get_gtype_value_table_collect_value_function_name (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_gtype_value_table_collect_value_function_name (self);
}


/**
 * Returns the set of type flags to be applied when registering.
 *
 * @return type flags
 */
static gchar* vala_typeregister_function_real_get_type_flags (ValaTypeRegisterFunction* self) {
	gchar* result = NULL;
	gchar* _tmp0_;
	_tmp0_ = g_strdup ("0");
	result = _tmp0_;
	return result;
}


gchar* vala_typeregister_function_get_type_flags (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_flags (self);
}


/**
 * Returns additional C declarations to setup interfaces.
 *
 * @return C declarations
 */
static ValaCCodeFragment* vala_typeregister_function_real_get_type_interface_init_declaration (ValaTypeRegisterFunction* self) {
	ValaCCodeFragment* result = NULL;
	ValaCCodeFragment* _tmp0_;
	_tmp0_ = vala_ccode_fragment_new ();
	result = _tmp0_;
	return result;
}


ValaCCodeFragment* vala_typeregister_function_get_type_interface_init_declaration (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, NULL);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_interface_init_declaration (self);
}


/**
 * Returns additional C initialization statements to setup interfaces.
 *
 * @return C statements
 */
static void vala_typeregister_function_real_get_type_interface_init_statements (ValaTypeRegisterFunction* self, ValaCCodeBlock* block, gboolean plugin) {
	g_return_if_fail (block != NULL);
}


void vala_typeregister_function_get_type_interface_init_statements (ValaTypeRegisterFunction* self, ValaCCodeBlock* block, gboolean plugin) {
	g_return_if_fail (self != NULL);
	VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_type_interface_init_statements (self, block, plugin);
}


ValaCCodeFragment* vala_typeregister_function_get_source_declaration (ValaTypeRegisterFunction* self) {
	ValaCCodeFragment* result = NULL;
	ValaCCodeFragment* _tmp0_;
	ValaCCodeFragment* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->source_declaration_fragment;
	_tmp1_ = _vala_ccode_node_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}


/**
 * Returns the declaration for this type register function in C code.
 *
 * @return C function declaration fragment
 */
ValaCCodeFragment* vala_typeregister_function_get_declaration (ValaTypeRegisterFunction* self) {
	ValaCCodeFragment* result = NULL;
	ValaCCodeFragment* _tmp0_;
	ValaCCodeFragment* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->declaration_fragment;
	_tmp1_ = _vala_ccode_node_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}


/**
 * Returns the definition for this type register function in C code.
 *
 * @return C function definition fragment
 */
ValaCCodeFragment* vala_typeregister_function_get_definition (ValaTypeRegisterFunction* self) {
	ValaCCodeFragment* result = NULL;
	ValaCCodeFragment* _tmp0_;
	ValaCCodeFragment* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->definition_fragment;
	_tmp1_ = _vala_ccode_node_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}


/**
 * Returns the accessibility for this type.
 */
static ValaSymbolAccessibility vala_typeregister_function_real_get_accessibility (ValaTypeRegisterFunction* self) {
	g_critical ("Type `%s' does not implement abstract method `vala_typeregister_function_get_accessibility'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
	return 0;
}


ValaSymbolAccessibility vala_typeregister_function_get_accessibility (ValaTypeRegisterFunction* self) {
	g_return_val_if_fail (self != NULL, 0);
	return VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->get_accessibility (self);
}


ValaTypeRegisterFunction* vala_typeregister_function_construct (GType object_type) {
	ValaTypeRegisterFunction* self = NULL;
	self = (ValaTypeRegisterFunction*) g_type_create_instance (object_type);
	return self;
}


ValaCodeContext* vala_typeregister_function_get_context (ValaTypeRegisterFunction* self) {
	ValaCodeContext* result;
	ValaCodeContext* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_context;
	result = _tmp0_;
	return result;
}


static gpointer _vala_code_context_ref0 (gpointer self) {
	return self ? vala_code_context_ref (self) : NULL;
}


void vala_typeregister_function_set_context (ValaTypeRegisterFunction* self, ValaCodeContext* value) {
	ValaCodeContext* _tmp0_;
	ValaCodeContext* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = _vala_code_context_ref0 (_tmp0_);
	_vala_code_context_unref0 (self->priv->_context);
	self->priv->_context = _tmp1_;
}


static void vala_value_typeregister_function_init (GValue* value) {
	value->data[0].v_pointer = NULL;
}


static void vala_value_typeregister_function_free_value (GValue* value) {
	if (value->data[0].v_pointer) {
		vala_typeregister_function_unref (value->data[0].v_pointer);
	}
}


static void vala_value_typeregister_function_copy_value (const GValue* src_value, GValue* dest_value) {
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = vala_typeregister_function_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}


static gpointer vala_value_typeregister_function_peek_pointer (const GValue* value) {
	return value->data[0].v_pointer;
}


static gchar* vala_value_typeregister_function_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	if (collect_values[0].v_pointer) {
		ValaTypeRegisterFunction* object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = vala_typeregister_function_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}


static gchar* vala_value_typeregister_function_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	ValaTypeRegisterFunction** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = vala_typeregister_function_ref (value->data[0].v_pointer);
	}
	return NULL;
}


GParamSpec* vala_param_spec_typeregister_function (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ValaParamSpecTypeRegisterFunction* spec;
	g_return_val_if_fail (g_type_is_a (object_type, VALA_TYPE_TYPEREGISTER_FUNCTION), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}


gpointer vala_value_get_typeregister_function (const GValue* value) {
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALA_TYPE_TYPEREGISTER_FUNCTION), NULL);
	return value->data[0].v_pointer;
}


void vala_value_set_typeregister_function (GValue* value, gpointer v_object) {
	ValaTypeRegisterFunction* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALA_TYPE_TYPEREGISTER_FUNCTION));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VALA_TYPE_TYPEREGISTER_FUNCTION));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		vala_typeregister_function_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		vala_typeregister_function_unref (old);
	}
}


void vala_value_take_typeregister_function (GValue* value, gpointer v_object) {
	ValaTypeRegisterFunction* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, VALA_TYPE_TYPEREGISTER_FUNCTION));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, VALA_TYPE_TYPEREGISTER_FUNCTION));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		vala_typeregister_function_unref (old);
	}
}


static void vala_typeregister_function_class_init (ValaTypeRegisterFunctionClass * klass) {
	vala_typeregister_function_parent_class = g_type_class_peek_parent (klass);
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->finalize = vala_typeregister_function_finalize;
	g_type_class_add_private (klass, sizeof (ValaTypeRegisterFunctionPrivate));
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_type_declaration = vala_typeregister_function_real_get_type_declaration;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_type_struct_name = vala_typeregister_function_real_get_type_struct_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_base_init_func_name = vala_typeregister_function_real_get_base_init_func_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_class_finalize_func_name = vala_typeregister_function_real_get_class_finalize_func_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_base_finalize_func_name = vala_typeregister_function_real_get_base_finalize_func_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_class_init_func_name = vala_typeregister_function_real_get_class_init_func_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_instance_struct_size = vala_typeregister_function_real_get_instance_struct_size;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_instance_init_func_name = vala_typeregister_function_real_get_instance_init_func_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_parent_type_name = vala_typeregister_function_real_get_parent_type_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_gtype_value_table_init_function_name = vala_typeregister_function_real_get_gtype_value_table_init_function_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_gtype_value_table_peek_pointer_function_name = vala_typeregister_function_real_get_gtype_value_table_peek_pointer_function_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_gtype_value_table_free_function_name = vala_typeregister_function_real_get_gtype_value_table_free_function_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_gtype_value_table_copy_function_name = vala_typeregister_function_real_get_gtype_value_table_copy_function_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_gtype_value_table_lcopy_value_function_name = vala_typeregister_function_real_get_gtype_value_table_lcopy_value_function_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_gtype_value_table_collect_value_function_name = vala_typeregister_function_real_get_gtype_value_table_collect_value_function_name;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_type_flags = vala_typeregister_function_real_get_type_flags;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_type_interface_init_declaration = vala_typeregister_function_real_get_type_interface_init_declaration;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_type_interface_init_statements = vala_typeregister_function_real_get_type_interface_init_statements;
	VALA_TYPEREGISTER_FUNCTION_CLASS (klass)->get_accessibility = vala_typeregister_function_real_get_accessibility;
}


static void vala_typeregister_function_instance_init (ValaTypeRegisterFunction * self) {
	ValaCCodeFragment* _tmp0_;
	ValaCCodeFragment* _tmp1_;
	ValaCCodeFragment* _tmp2_;
	self->priv = VALA_TYPEREGISTER_FUNCTION_GET_PRIVATE (self);
	_tmp0_ = vala_ccode_fragment_new ();
	self->priv->source_declaration_fragment = _tmp0_;
	_tmp1_ = vala_ccode_fragment_new ();
	self->priv->declaration_fragment = _tmp1_;
	_tmp2_ = vala_ccode_fragment_new ();
	self->priv->definition_fragment = _tmp2_;
	self->ref_count = 1;
}


static void vala_typeregister_function_finalize (ValaTypeRegisterFunction* obj) {
	ValaTypeRegisterFunction * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, VALA_TYPE_TYPEREGISTER_FUNCTION, ValaTypeRegisterFunction);
	_vala_ccode_node_unref0 (self->priv->source_declaration_fragment);
	_vala_ccode_node_unref0 (self->priv->declaration_fragment);
	_vala_ccode_node_unref0 (self->priv->definition_fragment);
	_vala_code_context_unref0 (self->priv->_context);
}


/**
 * C function to register a type at runtime.
 */
GType vala_typeregister_function_get_type (void) {
	static volatile gsize vala_typeregister_function_type_id__volatile = 0;
	if (g_once_init_enter (&vala_typeregister_function_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { vala_value_typeregister_function_init, vala_value_typeregister_function_free_value, vala_value_typeregister_function_copy_value, vala_value_typeregister_function_peek_pointer, "p", vala_value_typeregister_function_collect_value, "p", vala_value_typeregister_function_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ValaTypeRegisterFunctionClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) vala_typeregister_function_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ValaTypeRegisterFunction), 0, (GInstanceInitFunc) vala_typeregister_function_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType vala_typeregister_function_type_id;
		vala_typeregister_function_type_id = g_type_register_fundamental (g_type_fundamental_next (), "ValaTypeRegisterFunction", &g_define_type_info, &g_define_type_fundamental_info, G_TYPE_FLAG_ABSTRACT);
		g_once_init_leave (&vala_typeregister_function_type_id__volatile, vala_typeregister_function_type_id);
	}
	return vala_typeregister_function_type_id__volatile;
}


gpointer vala_typeregister_function_ref (gpointer instance) {
	ValaTypeRegisterFunction* self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}


void vala_typeregister_function_unref (gpointer instance) {
	ValaTypeRegisterFunction* self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		VALA_TYPEREGISTER_FUNCTION_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}



